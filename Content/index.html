<!DOCTYPE html>
<html lang="en">
<head>
    <title>Domotica</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/sidebar.css">
</head>
<body>
  <nav class="navbar navbar-fixed-top navbar-inverse">
    <div class="container-fluid">
      <div class="navbar-header">
        <!-- <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button> -->
        <button type="button" class="navbar-toggle sidebar-toggle" data-toggle="offcanvas">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Project name</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><p class="navbar-text">Signed in as Mark Otto</p></li>
          <li><a href="#edit"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span></a></li>
          <li><a href="#settings"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span></a></li>
        </ul>
      </div><!-- /.nav-collapse -->
    </div><!-- /.container -->
  </nav><!-- /.navbar -->

  <div class="container-fluid">
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar">
        <div class="list-group">
          <a href="index.html" class="list-group-item active">Home</a>
          <a href="login.html" class="list-group-item">Account</a>
          <a href="#" class="list-group-item">Settings</a>
          <a href="#" class="list-group-item">Logout</a>
        </div>
      </div><!--/.sidebar-offcanvas-->
      <div class="col-xs-12">
        <p class="visible-xs">
          <button type="button" class="btn btn-success btn-xs" data-toggle="offcanvas">Toggle nav</button>
        </p>
        <div class="row">
          <div class="col-xs-6 col-lg-4" id="field1" ondrop="drop(event)" ondragover="allowDrop(event)" style="height:250px; background-color:#EEE;">
            <div class="panel panel-default">
              <div class="panel-body">
                <h2>Heading 1</h2>
                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
              </div>
            </div>
          </div><!--/.col-xs-6.col-lg-4-->
          <div class="col-xs-6 col-lg-4">
            <div class="panel panel-default">
              <div class="panel-body">
                <h2>Heading 2</h2>
                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
              </div>
            </div>
          </div><!--/.col-xs-6.col-lg-4-->
          <div class="col-xs-6 col-lg-4">
            <div id="opensource" class="panel panel-default" draggable="true" ondragstart="drag(event)">
              <div class="panel-body">
                <h2>Heading 3</h2>
                <h3> <img src = "resources/OS_Logo.png"> Open source web platform</img> </h3>
              </div>
            </div>
          </div><!--/.col-xs-6.col-lg-4-->
          <div class="col-xs-6 col-lg-4">
            <div class="panel panel-default">
              <div class="panel-body">
                <h2>Heading 4</h2>
                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
              </div>
            </div>
          </div><!--/.col-xs-6.col-lg-4-->
          <div class="col-xs-6 col-lg-4">
            <div class="panel panel-default">
              <div class="panel-body">
                <h2>Heading 5</h2>
                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
              </div>
            </div>
          </div><!--/.col-xs-6.col-lg-4-->
          <div class="col-xs-6 col-lg-4">
            <div class="panel panel-default">
              <div class="panel-body">
                <h2>Heading 6</h2>
                <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
              </div>
            </div>
          </div><!--/.col-xs-6.col-lg-4-->
        </div><!--/row-->
      </div><!--/.col-xs-12.col-sm-9-->
    </div><!--/row-->
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

  <script>
  //menu toggle
  $(document).ready(function () {
    $('[data-toggle="offcanvas"]').click(function () {
      $('.row-offcanvas').toggleClass('active')
    });
  });

  //drag & drop
  function allowDrop(ev) {
      ev.preventDefault();
  }

  function drag(ev) {
      ev.dataTransfer.setData("text", ev.target.id);
  }

  function drop(ev) {
      ev.preventDefault();
      var data = ev.dataTransfer.getData("text");
      dataElement = document.getElementById(data);
      // console.log(ev.target.parentElement);
      target = ev.target
      while (!target.hasAttribute("ondrop")){
        console.log(target + "  " + target.hasAttribute("ondrop"));
        target = target.parentElement;
      }
      target.innerHTML = "";
      target.appendChild(dataElement);
  }
  </script>

</body>
</html>
